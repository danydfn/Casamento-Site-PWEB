<!DOCTYPE html>
<html lang="pt-br">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Lista de Presentes</title>
    <link rel="stylesheet" href="style.css" />
    <link href="https://fonts.googleapis.com/css2?family=Great+Vibes&display=swap" rel="stylesheet"/>
  </head>
  <body>
    <header class="cabeçalho">
      <img src="folha.png" alt="folha decorativa" class="icon" />
      <h1 class="title">Lista de Presentes</h1>
    </header>

    <div class="top-bar">
      <button id="cartButton" class="cart">Carrinho vazio</button>

      <div class="sort">
        <label for="ordenar">Ordenar lista por:</label>
        <select id="ordenar">
          <option value="az">A-Z</option>
          <option value="preco">Menor Preço</option>
        </select>
      </div>
    </div>

    <div class="container" id="giftContainer">
      <div class="card" data-preco="1693.46">
        <img
          src="tv.jpeg"
          alt="AOC Roku TV Smart TV LED 43”"
          class="gift-image"
        />
        <h3 class="gift-title">AOC Roku TV Smart TV LED 32”</h3>
        <p class="gift-price">R$ 1.693,46</p>
        <button class="gift-button">Presentear</button>
      </div>

      <div class="card" data-preco="249.66">
        <img
          src="aparelhoJantar.webp"
          alt="Aparelho de jantar"
          class="gift-image"
        />
        <h3 class="gift-title">Aparelho de jantar</h3>
        <p class="gift-price">R$ 249,66</p>
        <button class="gift-button">Presentear</button>
      </div>

      <div class="card" data-preco="1693.46">
        <img
          src="tv.webp"
          alt="AOC Roku TV Smart TV LED 32”"
          class="gift-image"
        />
        <h3 class="gift-title">AOC Roku TV Smart TV LED 32”</h3>
        <p class="gift-price">R$ 1.693,46</p>
        <button class="gift-button">Presentear</button>
      </div>

      <div class="card" data-preco="249.66">
        <img
          src="tv.webp"
          alt="AOC Roku TV Smart TV LED 32”"
          class="gift-image"
        />
        <h3 class="gift-title">Aparelho de jantar</h3>
        <p class="gift-price">R$ 249,66</p>
        <button class="gift-button">Presentear</button>
      </div>

      <div class="card" data-preco="96.61">
        <img
          src="tv.webp"
          alt="AOC Roku TV Smart TV LED 32”"
          class="gift-image"
        />
        <h3 class="gift-title">Aparelho para chá</h3>
        <p class="gift-price">R$ 96,61</p>
        <button class="gift-button">Presentear</button>
      </div>

      <div class="card" data-preco="296.59">
        <img
          src="tv.webp"
          alt="AOC Roku TV Smart TV LED 32”"
          class="gift-image"
        />
        <h3 class="gift-title">Aparelho para Jantar e Chá Oxford Daily</h3>
        <p class="gift-price">R$ 296,59</p>
        <button class="gift-button">Presentear</button>
      </div>

      <div class="card" data-preco="420.36">
        <img
          src="tv.webp"
          alt="AOC Roku TV Smart TV LED 32”"
          class="gift-image"
        />
        <h3 class="gift-title">Aspirador de Pó e Água Vertical Wap</h3>
        <p class="gift-price">R$ 420,36</p>
        <button class="gift-button">Presentear</button>
      </div>

      <div class="card" data-preco="107.22">
        <img
          src="tv.webp"
          alt="AOC Roku TV Smart TV LED 32”"
          class="gift-image"
        />
        <h3 class="gift-title">Assadeira</h3>
        <p class="gift-price">R$ 107,22</p>
        <button class="gift-button">Presentear</button>
      </div>

      <div class="card" data-preco="215.32">
        <img
          src="tv.webp"
          alt="AOC Roku TV Smart TV LED 32”"
          class="gift-image"
        />
        <h3 class="gift-title">
          Batedeira Philco Paris com 4 Velocidades - Branca
        </h3>
        <p class="gift-price">R$ 215,32</p>
        <button class="gift-button">Presentear</button>
      </div>

      <div class="card" data-preco="548.93">
        <img
          src="tv.webp"
          alt="AOC Roku TV Smart TV LED 32”"
          class="gift-image"
        />
        <h3 class="gift-title">Batedeira Planetária Britânia</h3>
        <p class="gift-price">R$ 548,93</p>
        <button class="gift-button">Presentear</button>
      </div>

      <div class="card" data-preco="134.06">
        <img
          src="tv.webp"
          alt="AOC Roku TV Smart TV LED 32”"
          class="gift-image"
        />
        <h3 class="gift-title">Batedeira Preta</h3>
        <p class="gift-price">R$ 134,06</p>
        <button class="gift-button">Presentear</button>
      </div>

      <div class="card" data-preco="141.55">
        <img
          src="tv.webp"
          alt="AOC Roku TV Smart TV LED 32”"
          class="gift-image"
        />
        <h3 class="gift-title">Cafeteira</h3>
        <p class="gift-price">R$ 141,55</p>
        <button class="gift-button">Presentear</button>
      </div>
    </div>

    <!-- Carrinho -->
    <section id="cartSection" class="cart-section hidden">
      <h2>Meu carrinho</h2>
      <table class="cart-table">
        <thead>
          <tr>
            <th>Descrição do presente</th>
            <th>Valor</th>
          </tr>
        </thead>
        <tbody id="cartItems"></tbody>
      </table>
      <div class="cart-total">
        <strong>Total:</strong> <span id="cartTotal">R$ 0,00</span>
      </div>

      <div class="cart-buttons">
        <button id="addMore" class="btn-gray">Adicionar mais itens</button>
        <button id="finalizarCompra" class="btn-pink">Continuar compra</button>
      </div>
    </section>


    <!-- Resumo da Compra --> 
    <section id="resumoSection" class="hidden">
    <div class="resumo-container">
      <h2>Resumo da sua compra</h2>
      <div class="resumo-grid">
        <div class="resumo-box">
          <div class="linha"><span>Valor Total dos Presentes</span><span>R$ 0,00</span></div>
          <div class="linha desconto"><span>Desconto Progressivo</span><span>- R$ 0,00</span></div>
          <div class="linha total"><span>Total</span><span>R$ 0,00</span></div>
        </div>
      </div>

      <div class="botoes-resumo">
        <button id="voltarCarrinho" class="btn-gray">Voltar para o carrinho</button>
        <button class="btn-pink">Concluir compra</button>
      </div>
    </div>
  </section> 

    <footer class="footerRodapé">
      <p>Martha & Odilon</p>
    </footer>







    
    <script>

const ordenarSelect = document.getElementById("ordenar");
      const giftContainer = document.getElementById("giftContainer");
      const cartButton = document.getElementById("cartButton");
      const cartSection = document.getElementById("cartSection");
      const cartItems = document.getElementById("cartItems");
      const cartTotal = document.getElementById("cartTotal");
      const addMoreBtn = document.getElementById("addMore");
      const resumoSection = document.getElementById("resumoSection");
      const finalizarCompra = document.getElementById("finalizarCompra");
      const voltarCarrinho = document.getElementById("voltarCarrinho");
      let cart = [];

      // Carregar carrinho salvo
      document.addEventListener("DOMContentLoaded", () => {
        const savedCart = localStorage.getItem("carrinho");
        if (savedCart) {
          cart = JSON.parse(savedCart);
          atualizarCarrinho();

          if (cart.length > 0) {
            cartSection.classList.remove("hidden");
            giftContainer.classList.add("hidden");
            document.querySelector(".top-bar").style.display = "none";
          }
        }
      });

      function salvarCarrinho() {
        localStorage.setItem("carrinho", JSON.stringify(cart));
      }

      // Ordenar lista
      ordenarSelect.addEventListener("change", () => {
        const cards = Array.from(giftContainer.children);
        if (ordenarSelect.value === "az") {
          cards.sort((a, b) =>
            a.querySelector(".gift-title").textContent.localeCompare(
              b.querySelector(".gift-title").textContent
            )
          );
        } else if (ordenarSelect.value === "preco") {
          cards.sort(
            (a, b) => parseFloat(a.dataset.preco) - parseFloat(b.dataset.preco)
          );
        }
        giftContainer.innerHTML = "";
        cards.forEach((c) => giftContainer.appendChild(c));
      });

      // Adicionar ao carrinho
      document.querySelectorAll(".gift-button").forEach((button) => {
        button.addEventListener("click", (e) => {
          const card = e.target.closest(".card");
          const title = card.querySelector(".gift-title").textContent;
          const price = card.querySelector(".gift-price").textContent;
          const image = card.querySelector(".gift-image").src;

          cart.push({ title, price, image });
          atualizarCarrinho();
          salvarCarrinho();

          cartSection.classList.remove("hidden");
          giftContainer.classList.add("hidden");
          document.querySelector(".top-bar").style.display = "none";
        });
      });

      // Atualizar carrinho
      function atualizarCarrinho() {
        cartItems.innerHTML = "";
        let total = 0;

        cart.forEach((item, index) => {
          const precoNum = parseFloat(
            item.price.replace(/[R$\s.]/g, "").replace(",", ".")
          );
          total += precoNum;

          const tr = document.createElement("tr");
          tr.innerHTML = `
            <td>
              <div class="cart-item">
                <img src="${item.image}">
                <div>
                  <div class="cart-item-title">${item.title}</div>
                  <div class="remove" data-index="${index}">Remover</div>
                </div>
              </div>
            </td>
            <td>R$ ${precoNum.toFixed(2).replace(".", ",")}</td>
          `;
          cartItems.appendChild(tr);
        });

        cartTotal.textContent = `R$ ${total.toFixed(2).replace(".", ",")}`;
        cartButton.textContent = cart.length
          ? `🛒 Carrinho (${cart.length})`
          : "🛒 Carrinho vazio";
      }

      // Remover item
      cartItems.addEventListener("click", (e) => {
        if (e.target.classList.contains("remove")) {
          const index = e.target.dataset.index;
          cart.splice(index, 1);
          atualizarCarrinho();
          salvarCarrinho();

          if (cart.length === 0) {
            localStorage.removeItem("carrinho");
            cartSection.classList.add("hidden");
            giftContainer.classList.remove("hidden");
            document.querySelector(".top-bar").style.display = "flex";
          }
        }
      });

      // Adicionar mais itens
      addMoreBtn.addEventListener("click", () => {
        cartSection.classList.add("hidden");
        giftContainer.classList.remove("hidden");
        document.querySelector(".top-bar").style.display = "flex";
      });

      // Ir para resumo
      finalizarCompra.addEventListener("click", () => {
        cartSection.classList.add("hidden");
        resumoSection.classList.remove("hidden");
      });

      // Voltar ao carrinho
      voltarCarrinho.addEventListener("click", () => {
        resumoSection.classList.add("hidden");
        cartSection.classList.remove("hidden");
      });
    </script>
  </body>
</html>
